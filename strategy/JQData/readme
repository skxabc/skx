pip install jqdatasdk(already installed)
log in:
  from jqdatasdk import *
  auth('18813098345','Shitou+6819815')

命令行参数说明（ma_cross_inside_bar_strategy.py）：
- --symbol 单个标的代码（默认取环境变量 JQ_SYMBOL，否则 000001.XSHE），与 --symbols 二选一
- --symbols 多个标的代码，逗号分隔，最多10个（例如 '000001.XSHE,600000.XSHG'），与 --symbol 二选一
- --username JQData 账号（默认取环境变量 JQ_USERNAME，否则文件内默认）
- --password JQData 密码（默认取环境变量 JQ_PASSWORD，否则文件内默认）
- --start-date 回测开始日期，YYYY-MM-DD；默认向前 15 个月
- --end-date 回测结束日期，YYYY-MM-DD；默认向前 3 个月
- --ma-short 短均线周期（默认 5）
- --ma-long 长均线周期（默认 10）
- --trend-ma 趋势均线周期（默认 20，设为 0/None 可关闭）
- --vol-lookback 量能均值窗口（默认 10）
- --vol-mult 量能放大倍数过滤（默认 1.0，>1 表示放量才入场）
- --atr-lookback ATR 计算窗口（默认 14）
- --atr-mult ATR 追踪止损倍数（默认 2.0，越大越宽，设为 9999 关闭）
- --simple-stop-pct 简化移动止损百分比（如 5 表示 5%），设置后使用简化版，忽略 ATR 止损
  - 简化版计算：移动止损价 = 持仓期间最高价 × (1 - 止损百分比/100)
  - 例如：--simple-stop-pct 5 表示最高价回撤 5% 时止损
  - 手动操作更简单：只需记录最高价，用最高价乘以 (1 - 止损百分比) 即可
- --disable-break-stop 关闭跌破前日K线新低止损，仅使用移动止损
  - 默认启用"跌破前日K线新低止损"和"移动止损"两个条件（满足任一即卖出）
  - 两个止损可能冲突：如果移动止损设置较紧，可能先于"跌破前日新低"触发
  - 如果只想使用移动止损，可以使用此参数关闭"跌破前日新低止损"
  - 测试显示：某些股票关闭"跌破前日新低止损"后，仅用移动止损效果更好
- --max-hold-days 最长持仓天数（默认 None 不限制）
- --fee-rate 单边手续费率（默认 0.0005，可按市场实际填写）
- --slippage-bp 滑点，单位 BP（默认 1BP=0.01%）

港股通支持：
- 标的代码使用 `.XHKG` 后缀（例如 `00700.XHKG`）。
- 港股通回测时自动关闭前复权参数（`fq=None`），`skip_paused` 也会自动关闭。

常用代码规则（JQData）：
- 沪市：`600000.XSHG`、`601398.XSHG`、科创板 `688xxx.XSHG`
- 深市：`000001.XSHE`、`002xxx.XSHE`、创业板 `300xxx.XSHE`
- 港股/港股通：`00700.XHKG`、`00005.XHKG`、`03690.XHKG`（需有港股数据权限）
- 指数：上证综指 `000001.XSHG`，深证成指 `399001.XSHE`，沪深300 `000300.XSHG`，中证500 `000905.XSHG`
- ETF 示例：沪市 `510300.XSHG`，深市 `159915.XSHE`
- 期货示例：主连 `IF9999.CCFX`，具体合约如 `IF2406.CCFX`

批量回测功能：
- 使用 --symbols 参数可以同时回测多个标的（最多10个）
- 批量回测会自动汇总所有标的的统计信息
- 输出包含：每个标的的详细回测结果、汇总统计表格、详细交易记录

批量回测使用示例：
```bash
# 回测多个标的
python3 ma_cross_inside_bar_strategy.py --symbols "000001.XSHE,600000.XSHG,000002.XSHE"

# 批量回测并自定义参数
python3 ma_cross_inside_bar_strategy.py --symbols "000001.XSHE,600000.XSHG" --trend-ma 0 --vol-mult 1.2
```

批量回测输出格式：
1. 每个标的的详细回测结果（交易记录、收益、胜率等）
2. 汇总统计表格：
   - 标的代码、总收益%、胜率%、盈亏比、交易次数
   - 平均收益、整体胜率、成功/失败标的数量
3. 详细交易记录汇总：
   - 每个标的的所有交易记录
   - 包含：日期、操作（BUY/SELL）、价格、盈亏（绝对值和百分比）
